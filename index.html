
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<title>COPA WIOG ‚Äì Mundial Visual</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: #1a1a1a;
    color: #f1f1f1;
    text-align: center;
    padding: 30px;
  }
  h1, h2, h3 {
    color: #ffd700;
    text-shadow: 2px 2px 4px #000;
  }
  button {
    padding: 10px 20px;
    font-size: 14px;
    margin: 5px;
    border: none;
    border-radius: 8px;
    background-color: #ffd700;
    color: #000;
    cursor: pointer;
  }
  #faseEliminatoriaSolo {
    display: none;
    margin-top: 30px;
  }
  .eliminatoria-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
  }
  .match {
    background: #333;
    padding: 10px;
    border-radius: 10px;
    width: 300px;
    display: flex;
    justify-content: space-between;
  }
</style>
</head>
<body>
<h1>üèÜ COPA WIOG ‚Äì Mundial Visual</h1>

<h3>üéÆ Modo Eliminatoria Directa</h3>
<button onclick="mostrarEliminatoriaSolo()">Jugar solo Fase Eliminatoria</button>

<div id="faseEliminatoriaSolo">
  <h2>Fase Eliminatoria ‚Äì 16 Jugadores</h2>
  <textarea id="jugadoresEliminatoria" rows="6" cols="40" placeholder="Ingresa 16 jugadores, uno por l√≠nea"></textarea><br>
  <button onclick="sortearEliminatoria()">Sortear Cruces</button>
  <div id="eliminatoriaContainer" class="eliminatoria-container"></div>
</div>

<script>
function mostrarEliminatoriaSolo() {
  document.getElementById("faseEliminatoriaSolo").style.display = "block";
}

function sortearEliminatoria() {
  const textarea = document.getElementById("jugadoresEliminatoria");
  let jugadores = textarea.value.trim().split("\n").map(j => j.trim()).filter(j => j);
  if (jugadores.length !== 16) {
    alert("Debes ingresar exactamente 16 jugadores.");
    return;
  }
  // Mezclar aleatoriamente
  for (let i = jugadores.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [jugadores[i], jugadores[j]] = [jugadores[j], jugadores[i]];
  }
  avanzarRonda(jugadores, "eliminatoriaContainer", 1);
}

function avanzarRonda(jugadores, contenedorId, ronda) {
  const container = document.getElementById(contenedorId);
  container.innerHTML = "";
  let siguienteRonda = [];
  for (let i = 0; i < jugadores.length; i += 2) {
    const div = document.createElement("div");
    div.className = "match";
    const boton1 = document.createElement("button");
    boton1.textContent = jugadores[i];
    boton1.onclick = () => {
      siguienteRonda.push(jugadores[i]);
      if (siguienteRonda.length === jugadores.length / 2) {
        const nuevoId = contenedorId + "_ronda" + (ronda + 1);
        let nuevaDiv = document.getElementById(nuevoId);
        if (!nuevaDiv) {
          nuevaDiv = document.createElement("div");
          nuevaDiv.id = nuevoId;
          nuevaDiv.className = "eliminatoria-container";
          container.parentNode.appendChild(nuevaDiv);
        }
        avanzarRonda(siguienteRonda, nuevoId, ronda + 1);
      }
    };
    const boton2 = document.createElement("button");
    boton2.textContent = jugadores[i + 1];
    boton2.onclick = () => {
      siguienteRonda.push(jugadores[i + 1]);
      if (siguienteRonda.length === jugadores.length / 2) {
        const nuevoId = contenedorId + "_ronda" + (ronda + 1);
        let nuevaDiv = document.getElementById(nuevoId);
        if (!nuevaDiv) {
          nuevaDiv = document.createElement("div");
          nuevaDiv.id = nuevoId;
          nuevaDiv.className = "eliminatoria-container";
          container.parentNode.appendChild(nuevaDiv);
        }
        avanzarRonda(siguienteRonda, nuevoId, ronda + 1);
      }
    };
    div.appendChild(boton1);
    div.appendChild(document.createTextNode(" vs "));
    div.appendChild(boton2);
    container.appendChild(div);
  }
  if (jugadores.length === 2) {
    const ganadorFinal = document.createElement("h2");
    ganadorFinal.style.color = '#00ffcc';
    ganadorFinal.textContent = "üèÜ Campe√≥n: (elige un ganador arriba)";
    container.appendChild(ganadorFinal);
  }
}
</script>
</body>
</html>
