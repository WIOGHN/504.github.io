
<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="utf-8"/>
<title>COPA WIOG ‚Äì Mundial Completo con Llave Visual</title>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
    body {
      font-family: 'Poppins', sans-serif;
      background: radial-gradient(circle at top, #0f0f0f 0%, #1a1a1a 100%);
      color: #f1f1f1;
      text-align: center;
      padding: 30px;
      margin: 0;
    }
    h1, h2, h3 {
      color: #ffd700;
      text-shadow: 2px 2px 4px #000;
      margin-bottom: 15px;
    }
    textarea, input, button {
      padding: 10px;
      border-radius: 8px;
      border: none;
      font-size: 14px;
      margin: 5px 0;
      font-family: inherit;
    }
    textarea {
      resize: vertical;
      background-color: #1e1e1e;
      color: #fff;
      border: 1px solid #444;
    }
    input[type="text"], input[type="number"] {
      background-color: #2a2a2a;
      color: #fff;
      border: 1px solid #444;
    }
    button {
      background: linear-gradient(to right, #ffd700, #ffc400);
      color: #000;
      font-weight: 600;
      padding: 10px 16px;
      border-radius: 30px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 10px rgba(255, 215, 0, 0.3);
      border: none;
    }
    button:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(255, 215, 0, 0.5);
    }
    .grupo {
  max-width: 220px;
  font-size: 12px;

      background: #1f1f1f;
      border: 2px solid #ffd700;
      border-radius: 14px;
      padding: 16px;
      margin: 15px;
      width: 270px;
      display: inline-block;
      vertical-align: top;
      box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);
      transition: transform 0.3s;
    }
    .grupo:hover {
      transform: translateY(-5px);
    }
    .grupo ul {
      list-style: none;
      padding: 0;
      margin-bottom: 10px;
    }
    .grupo li {
  font-size: 12px;
      padding: 6px 0;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    .partido {
  font-size: 11px;
      margin: 6px 0;
      font-size: 13px;
    }
    .tabla {
      margin-top: 10px;
      width: 100%;
      border-collapse: collapse;
      font-size: 12px;
    }
    .tabla th, .tabla td {
  font-size: 11px;
      border: 1px solid #444;
      padding: 6px;
      background: #fff;
      color: #000;
    }
    .bracket {
      display: flex;
      justify-content: center;
      flex-wrap: nowrap;
      gap: 24px;
      overflow-x: auto;
      margin-top: 40px;
      padding: 10px;
    }
    .round {
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .match {
      background-color: #fefefe;
      color: #111;
      border-radius: 8px;
      padding: 6px 8px;
      font-weight: 600;
      font-size: 12px;
      min-width: 110px;
      max-width: 130px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.2);
      line-height: 1.2;
      transition: transform 0.2s ease;
    }

    .match:hover {
      transform: scale(1.03);
      background-color: #fffbe6;
    }
    .final {
      background: linear-gradient(to right, #ff6f00, #ff9100);
      color: #fff;
    }
    .campeon {
      margin-top: 40px;
      font-size: 28px;
      font-weight: bold;
      color: #00e676;
      text-shadow: 0 0 10px #00e676;
    }
    #equiposAgregados {
      color: #ffeb3b;
      font-size: 14px;
      margin-bottom: 20px;
    }
    ::selection {
      background: #ffd700;
      color: #000;
    }
    @media (max-width: 768px) {
      .grupo {
  max-width: 220px;
  font-size: 12px;
 width: 90%; }
      .bracket { flex-wrap: wrap; gap: 10px; }
      .round { gap: 14px; }
    }
  

    .match.winner {
      background-color: #d4edda !important;
      border: 2px solid #28a745 !important;
      box-shadow: 0 0 8px #28a745;
    }

    .match input {
  width: 14px !important;
  padding: 1px;
  font-size: 11px;
  height: 16px;
  text-align: center;
  line-height: 1;

      background-color: #f0f0f0;
      border: 1px solid #ccc;
      border-radius: 4px;
      text-align: center;
      width: 28px;
      font-size: 12px;
    }

    .match button {
      background-color: #ffd700;
      color: #000;
      font-weight: bold;
      padding: 4px 10px;
      border-radius: 16px;
      font-size: 10px;
      margin-top: 4px;
      cursor: pointer;
      transition: 0.2s;
    }

    .match button:hover {
      background-color: #ffc400;
      transform: scale(1.05);
    }
    

    .match input:focus {
      outline: none;
      border-color: #ffd700;
      box-shadow: 0 0 4px #ffd700;
    }

    .match span {
      display: inline-block;
      min-width: 50px;
    }

    .match .score-winner {
      background-color: #d4edda;
      border-color: #28a745;
    }

    .match .score-loser {
      background-color: #f8d7da;
      border-color: #dc3545;
    }
    

    .grupo .partido input {
      width: 52px !important;
      height: 48px;
      font-size: 20px;
      padding: 4px;
      text-align: center;
      margin: 0 4px;
    }
    

    #grupos {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 20px;
    }

    .grupo {
      flex: 1 1 calc(33.33% - 40px);
      max-width: 340px;
      min-width: 300px;
      box-sizing: border-box;
    }

    @media (max-width: 900px) {
      .grupo {
        flex: 1 1 calc(50% - 30px);
      }
    }

    @media (max-width: 600px) {
      .grupo {
        flex: 1 1 100%;
      }
    }
    

    #grupos {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
    }

    .grupo {
      flex: 1 1 calc(50% - 40px);
      max-width: 500px;
      min-width: 400px;
      font-size: 15px;
    }

    .grupo h3 {
      font-size: 20px;
      margin-bottom: 10px;
    }

    .grupo li {
      font-size: 15px;
    }

    .partido {
      font-size: 14px;
    }
    

    .grupo {
      text-align: center;
    }

    .grupo ul {
      padding-left: 0;
    }

    .grupo li {
      text-align: center;
    }

    .partido {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 6px;
      flex-wrap: wrap;
    }
    

    .partido input {
      vertical-align: middle;
      display: inline-block;
      text-align: center;
    }

    .partido span {
      display: inline-block;
      min-width: 100px;
      text-align: right;
    }
    

    .partido {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      margin: 4px 0;
    }

    .partido .team-name {
      min-width: 120px;
      text-align: right;
      font-weight: 500;
    }

    .partido .team-name:last-child {
      text-align: left;
    }

    .partido input {
      width: 36px !important;
      height: 28px;
      font-size: 15px;
    }
    

    .partido {
      display: grid;
      grid-template-columns: 1fr auto auto 1fr;
      align-items: center;
      justify-content: center;
      gap: 6px;
      margin: 6px 0;
    }

    .partido .team-name {
      text-align: right;
      font-weight: 500;
    }

    .partido .team-name:last-child {
      text-align: left;
    }

    .partido input {
      width: 36px !important;
      height: 30px;
      font-size: 15px;
      text-align: center;
    }
    

    .partido .team-name {
      text-align: right;
      font-weight: 500;
      padding-right: 4px;
    }

    .partido .team-name:last-of-type {
      text-align: left;
      padding-left: 4px;
    }
    

    .grupo {
      max-width: 580px;
      min-width: 500px;
    }

    .partido .team-name {
      min-width: 150px;
      font-size: 15px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    

    .partido {
      display: grid;
      grid-template-columns: 1fr auto auto 1fr;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .partido .team-name {
      min-width: 120px;
      white-space: nowrap;
      text-align: center;
      font-size: 15px;
    }

    .partido input {
      width: 38px !important;
      height: 32px;
      font-size: 16px;
      text-align: center;
    }
    

    #grupos {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
    }

    .grupo {
      flex: 1 1 calc(50% - 40px);
      max-width: 520px;
      min-width: 460px;
    }

    .partido {
      display: grid;
      grid-template-columns: 1fr auto auto auto 1fr;
      align-items: center;
      justify-content: center;
      gap: 6px;
      margin: 5px 0;
    }

    .partido .team-name {
      text-align: center;
      white-space: nowrap;
      font-size: 15px;
    }

    .partido .vs {
      font-weight: bold;
      font-size: 16px;
      color: #ffd700;
      text-shadow: 1px 1px #000;
    }

    .partido input {
      width: 38px !important;
      height: 32px;
      font-size: 16px;
      text-align: center;
    }
    

    .tabla {
      margin-top: 10px;
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
      box-shadow: 0 0 10px rgba(0,0,0,0.4);
    }

    .tabla th {
      background-color: #ffd700;
      color: #000;
      padding: 6px;
    }

    .tabla td {
      background-color: #f9f9f9;
      color: #000;
      padding: 6px;
    }

    .tabla tr:nth-child(even) td {
      background-color: #eee;
    }

    .tabla tr:first-child {
      border-top: 2px solid #000;
    }

    .tabla tr.top-team {
      background-color: #b9fbc0 !important;
      font-weight: bold;
    }

    .tabla tr.top-team td {
      background-color: #b9fbc0 !important;
    }
    

    .bracket {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
      margin-top: 40px;
      flex-wrap: nowrap;
    }

    .round {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 40px;
      min-width: 160px;
    }

    .match {
      background-color: #ffffff;
      color: #000;
      border-radius: 6px;
      padding: 6px 10px;
      font-weight: bold;
      min-width: 140px;
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 6px;
      box-shadow: 0 0 6px rgba(0,0,0,0.3);
    }

    .match input {
      width: 28px;
      height: 26px;
      font-size: 14px;
      text-align: center;
    }

    .campeon {
      margin-top: 30px;
      font-size: 22px;
      color: #00e676;
    }
    
.match input {
  width: 38px !important;
  height: 32px !important;
  font-size: 16px !important;
}

@keyframes glow {
  0% { box-shadow: 0 0 5px 2px #00e676; }
  50% { box-shadow: 0 0 15px 4px #00e676; }
  100% { box-shadow: 0 0 5px 2px #00e676; }
}
.winner-highlight {
  border: 2px solid #00e676 !important;
  animation: glow 1s ease-in-out infinite;
  background-color: #e0ffe8 !important;
}
</style>
</head>
<body>
<h1>üèÜ COPA WIOG ‚Äì Mundial Visual con Llave Autom√°tica</h1>
<br/>
<h3>Agregar Equipos</h3>
<input id="equipoInput" placeholder="Nombre del equipo" type="text"/>
<button onclick="agregarEquipo()">Agregar</button><br/>
<textarea cols="40" id="listaEquipos" placeholder="" rows="6"></textarea><br/>
<button onclick="agregarLista()">Agregar Lista</button>
<div id="equiposAgregados" style="margin-top:10px; font-weight:bold;"></div>
<button onclick="sortearGrupos()">üé≤ Sortear Grupos</button>
<div id="grupos"></div>
<hr/>
<h2>Fase Eliminatoria</h2>
<button onclick="clasificarAOctavos()">üèÅ Clasificar a Octavos</button>
<div class="bracket">
<div class="round" id="octavosIzq"><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div></div>
<div class="round" id="cuartosIzq"><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div></div>
<div class="round" id="semisIzq"><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div></div>
<div class="round" id="final"><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div></div>
<div class="round" id="semisDer"><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div></div>
<div class="round" id="cuartosDer"><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div></div>
<div class="round" id="octavosDer"><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div><div class="match"><span>Equipo 1</span><input min="0" type="number"/><span>Equipo 2</span><input min="0" type="number"/></div></div>
</div>
<div class="campeon" id="campeon"></div>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const roundOrder = ['octavosIzq', 'cuartosIzq', 'semisIzq', 'semisDer', 'cuartosDer', 'octavosDer', 'final'];

  roundOrder.forEach(ronda => {
    const contenedor = document.getElementById(ronda);
    if (!contenedor) return;
    const matches = contenedor.querySelectorAll('.match');

    matches.forEach((match, i) => {
      const inputs = match.querySelectorAll("input");
      if (inputs.length < 2) return;

      const [inputA, inputB] = inputs;

      const checkAndAdvance = () => {
        const scoreA = parseInt(inputA.value);
        const scoreB = parseInt(inputB.value);
        const spans = match.querySelectorAll("span");
        if (isNaN(scoreA) || isNaN(scoreB)) return;

        let winner = scoreA > scoreB ? spans[0].innerText :
                     scoreB > scoreA ? spans[1].innerText :
                     prompt("Empate. Escribe el nombre del ganador:");

        const nextMap = {
          'octavosIzq': 'cuartosIzq',
          'cuartosIzq': 'semisIzq',
          'semisIzq': 'final',
          'octavosDer': 'cuartosDer',
          'cuartosDer': 'semisDer',
          'semisDer': 'final'
        };
        const nextRound = nextMap[ronda];
        if (!nextRound) return;

        const nextContainer = document.getElementById(nextRound);
        if (!nextContainer) return;

        const nextMatch = nextContainer.querySelectorAll('.match')[Math.floor(i / 2)];
        if (!nextMatch) return;

        const nextSpans = nextMatch.querySelectorAll("span");
        const nextInputs = nextMatch.querySelectorAll("input");

        const idx = i % 2;
        if (nextSpans.length > idx && nextInputs.length > idx) {
          // Highlight winner
          spans[scoreA > scoreB ? 0 : 1].classList.add("winner-highlight");
          spans[scoreA < scoreB ? 0 : 1].classList.remove("winner-highlight");
          nextSpans[idx].innerText = winner;
          nextInputs[idx].value = '';
        }

        // Final winner
        if (nextRound === 'final') {
          const final = document.getElementById('final');
          const finalMatch = final.querySelector('.match');
          const fs = finalMatch.querySelectorAll("span");
          const fi = finalMatch.querySelectorAll("input");

          if (fs.length === 2 && fi.length === 2) {
            const [fa, fb] = fi;
            const autoFinal = () => {
              const sa = parseInt(fa.value);
              const sb = parseInt(fb.value);
              if (isNaN(sa) || isNaN(sb)) return;

              const champ = sa > sb ? fs[0].innerText :
                            sb > sa ? fs[1].innerText :
                            prompt("Final empatada. Escribe el campe√≥n:");
              document.getElementById("campeon").innerHTML = "üèÜ <span class='winner-highlight'>" + champ + "</span>";
            };
            fa.addEventListener("change", autoFinal);
            fb.addEventListener("change", autoFinal);
          }
        }
      };

      inputA.addEventListener("change", checkAndAdvance);
      inputB.addEventListener("change", checkAndAdvance);
    });
  });
});
</script>
</body>
</html>
